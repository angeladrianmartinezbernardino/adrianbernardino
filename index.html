<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Adri√°n Bernardino</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #05040a;
      color: #f5f5f5;
      text-align: center;
      padding: 1.5rem;
    }
    h1 {
      font-size: 2.4rem;
      margin-bottom: 0.75rem;
    }
    p {
      font-size: 1.1rem;
      opacity: 0.9;
    }
    small {
      margin-top: 1.5rem;
      font-size: .75rem;
      opacity: .6;
    }
  </style>
</head>

<body>
  <!-- Contenido que se llenar√° con Firestore -->
  <h1 id="titulo-principal">Cargando‚Ä¶</h1>
  <p id="subtitulo-principal"></p>

  <!-- Firebase (CDN, modo m√≥dulo) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
    import {
      getFirestore,
      doc,
      onSnapshot,
      getDoc
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // Config de tu proyecto (la misma que en admin)
    const firebaseConfig = {
      apiKey: "AIzaSyCXJH_AH-_lhnBv3CpDn-GKKLvZKzIjYTQ",
      authDomain: "adrian-bernardino.firebaseapp.com",
      projectId: "adrian-bernardino",
      storageBucket: "adrian-bernardino.firebasestorage.app",
      messagingSenderId: "666230030620",
      appId: "1:666230030620:web:877ca977270ff3f7d73ad9",
      measurementId: "G-K2GREQ6BL5"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);

    // Referencias a la UI
    const tituloEl = document.getElementById("titulo-principal");
    const subtituloEl = document.getElementById("subtitulo-principal");

    // Referencia al doc paginas/home
    const homeRef = doc(db, "paginas", "home");

    // 1) Intento inicial de lectura (por si no quieres tiempo real)
    getDoc(homeRef).then((snap) => {
      if (snap.exists()) {
        const data = snap.data();
        tituloEl.textContent = data.titulo_principal || "Hola, soy Adri√°n Bernardino";
        subtituloEl.textContent =
          data.subtitulo_principal || "0 ‚Äî üå≤üå±üìåüåê‚òÄÔ∏èüé¨üï£üíßüî•üå∏üçáü™µüì° ‚Äî ‚àû";
      } else {
        tituloEl.textContent = "Hola, soy Adri√°n Bernardino";
        subtituloEl.textContent = "0 ‚Äî üå≤üå±üìåüåê‚òÄÔ∏èüé¨üï£üíßüî•üå∏üçáü™µüì° ‚Äî ‚àû";
      }
    }).catch((err) => {
      console.error("Error leyendo Firestore:", err);
      tituloEl.textContent = "Hola, soy Adri√°n Bernardino";
      subtituloEl.textContent = "Error al cargar datos, usando valores por defecto.";
    });

    // 2) Escuchar cambios en tiempo real desde el panel admin
    onSnapshot(homeRef, (snap) => {
      if (!snap.exists()) return;
      const data = snap.data();
      if (data.titulo_principal) {
        tituloEl.textContent = data.titulo_principal;
      }
      if (data.subtitulo_principal) {
        subtituloEl.textContent = data.subtitulo_principal;
      }
    });
  </script>
</body>
</html>